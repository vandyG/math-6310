import{s as _}from"./chunk-DZLz74EQ.js";import{t as Q}from"./react-BcIddLXZ.js";import{n as V,t as W}from"./jsx-runtime-DvsdsEjx.js";import{a as D,n as X}from"./dist-CLazWf1X.js";import{t as Y}from"./cn-Dr9kMPPj.js";import{S as C,a as $,b as ee,c as oe,d as re,g as E,l as te,o as N,p as ne,s as ae,t as se,u as k,v as I,w as ie}from"./namespace-BstGchRe.js";import{a as le,i as de,n as pe,r as ue,t as ce}from"./fullscreen-BFmvQx5m.js";var d=_(Q(),1),l=_(W(),1),j="Popover",[M,Se]=ie(j,[k]),w=k(),[fe,f]=M(j),K=o=>{let{__scopePopover:i,children:e,open:n,defaultOpen:r,onOpenChange:t,modal:a=!1}=o,s=w(i),p=d.useRef(null),[v,c]=d.useState(!1),[m,u]=ee({prop:n,defaultProp:r??!1,onChange:t,caller:j});return(0,l.jsx)(te,{...s,children:(0,l.jsx)(fe,{scope:i,contentId:re(),triggerRef:p,open:m,onOpenChange:u,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),hasCustomAnchor:v,onCustomAnchorAdd:d.useCallback(()=>c(!0),[]),onCustomAnchorRemove:d.useCallback(()=>c(!1),[]),modal:a,children:e})})};K.displayName=j;var S="PopoverAnchor",T=d.forwardRef((o,i)=>{let{__scopePopover:e,...n}=o,r=f(S,e),t=w(e),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=r;return d.useEffect(()=>(a(),()=>s()),[a,s]),(0,l.jsx)(N,{...t,...n,ref:i})});T.displayName=S;var z="PopoverTrigger",H=d.forwardRef((o,i)=>{let{__scopePopover:e,...n}=o,r=f(z,e),t=w(e),a=D(i,r.triggerRef),s=(0,l.jsx)(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":G(r.open),...n,ref:a,onClick:C(o.onClick,r.onOpenToggle)});return r.hasCustomAnchor?s:(0,l.jsx)(N,{asChild:!0,...t,children:s})});H.displayName=z;var A="PopoverPortal",[ve,he]=M(A,{forceMount:void 0}),U=o=>{let{__scopePopover:i,forceMount:e,children:n,container:r}=o,t=f(A,i);return(0,l.jsx)(ve,{scope:i,forceMount:e,children:(0,l.jsx)(I,{present:e||t.open,children:(0,l.jsx)($,{asChild:!0,container:r,children:n})})})};U.displayName=A;var P="PopoverContent",Z=d.forwardRef((o,i)=>{let e=he(P,o.__scopePopover),{forceMount:n=e.forceMount,...r}=o,t=f(P,o.__scopePopover);return(0,l.jsx)(I,{present:n||t.open,children:t.modal?(0,l.jsx)(ge,{...r,ref:i}):(0,l.jsx)(xe,{...r,ref:i})})});Z.displayName=P;var me=X("PopoverContent.RemoveScroll"),ge=d.forwardRef((o,i)=>{let e=f(P,o.__scopePopover),n=d.useRef(null),r=D(i,n),t=d.useRef(!1);return d.useEffect(()=>{let a=n.current;if(a)return ue(a)},[]),(0,l.jsx)(pe,{as:me,allowPinchZoom:!0,children:(0,l.jsx)(q,{...o,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:C(o.onCloseAutoFocus,a=>{var s;a.preventDefault(),t.current||((s=e.triggerRef.current)==null||s.focus())}),onPointerDownOutside:C(o.onPointerDownOutside,a=>{let s=a.detail.originalEvent,p=s.button===0&&s.ctrlKey===!0;t.current=s.button===2||p},{checkForDefaultPrevented:!1}),onFocusOutside:C(o.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),xe=d.forwardRef((o,i)=>{let e=f(P,o.__scopePopover),n=d.useRef(!1),r=d.useRef(!1);return(0,l.jsx)(q,{...o,ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;(a=o.onCloseAutoFocus)==null||a.call(o,t),t.defaultPrevented||(n.current||((s=e.triggerRef.current)==null||s.focus()),t.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:t=>{var s,p;(s=o.onInteractOutside)==null||s.call(o,t),t.defaultPrevented||(n.current=!0,t.detail.originalEvent.type==="pointerdown"&&(r.current=!0));let a=t.target;(p=e.triggerRef.current)!=null&&p.contains(a)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&r.current&&t.preventDefault()}})}),q=d.forwardRef((o,i)=>{let{__scopePopover:e,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:t,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:c,...m}=o,u=f(P,e),h=w(e);return le(),(0,l.jsx)(de,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:t,children:(0,l.jsx)(ne,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:c,onEscapeKeyDown:s,onPointerDownOutside:p,onFocusOutside:v,onDismiss:()=>u.onOpenChange(!1),children:(0,l.jsx)(oe,{"data-state":G(u.open),role:"dialog",id:u.contentId,...h,...m,ref:i,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),B="PopoverClose",F=d.forwardRef((o,i)=>{let{__scopePopover:e,...n}=o,r=f(B,e);return(0,l.jsx)(E.button,{type:"button",...n,ref:i,onClick:C(o.onClick,()=>r.onOpenChange(!1))})});F.displayName=B;var Pe="PopoverArrow",Ce=d.forwardRef((o,i)=>{let{__scopePopover:e,...n}=o,r=w(e);return(0,l.jsx)(ae,{...r,...n,ref:i})});Ce.displayName=Pe;function G(o){return o?"open":"closed"}var we=K,Oe=H,be=U,J=Z,ye=F,je=_(V()),Re=we,_e=Oe,Ae=ce(be),Fe=ye,L=d.forwardRef((o,i)=>{let e=(0,je.c)(22),n,r,t,a,s,p;e[0]===o?(n=e[1],r=e[2],t=e[3],a=e[4],s=e[5],p=e[6]):({className:n,align:t,sideOffset:a,portal:s,scrollable:p,...r}=o,e[0]=o,e[1]=n,e[2]=r,e[3]=t,e[4]=a,e[5]=s,e[6]=p);let v=t===void 0?"center":t,c=a===void 0?4:a,m=s===void 0?!0:s,u=p===void 0?!1:p,h=u&&"overflow-auto",g;e[7]!==n||e[8]!==h?(g=Y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n,h),e[7]=n,e[8]=h,e[9]=g):g=e[9];let R=u?"calc(var(--radix-popover-content-available-height) - 30px)":void 0,x;e[10]!==r.style||e[11]!==R?(x={...r.style,maxHeight:R},e[10]=r.style,e[11]=R,e[12]=x):x=e[12];let O;e[13]!==v||e[14]!==r||e[15]!==i||e[16]!==c||e[17]!==g||e[18]!==x?(O=(0,l.jsx)(se,{children:(0,l.jsx)(J,{ref:i,align:v,sideOffset:c,className:g,style:x,...r})}),e[13]=v,e[14]=r,e[15]=i,e[16]=c,e[17]=g,e[18]=x,e[19]=O):O=e[19];let b=O;if(m){let y;return e[20]===b?y=e[21]:(y=(0,l.jsx)(Ae,{children:b}),e[20]=b,e[21]=y),y}return b});L.displayName=J.displayName;export{T as a,_e as i,Fe as n,F as o,L as r,Re as t};
