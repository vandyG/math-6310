import{s as m}from"./chunk-DZLz74EQ.js";import{i as A,o as h}from"./react-7g8sREeT.js";import{n as $}from"./jsx-runtime-DvsdsEjx.js";import{t as d}from"./Logger-BkkOJyg0.js";var v=m($());function w(c,i){return{reducer:(o,e)=>(o||(o=c()),e.type in i?i[e.type](o,e.payload):(d.error(`Action type ${e.type} is not defined in reducers.`),o)),createActions:o=>{let e={};for(let a in i)e[a]=u=>{o({type:a,payload:u})};return e}}}function E(c,i,o){let{reducer:e,createActions:a}=w(c,i),u=(n,r)=>{try{let t=e(n,r);if(o)for(let s of o)try{s(n,t,r)}catch(f){d.error(`Error in middleware for action ${r.type}:`,f)}return t}catch(t){return d.error(`Error in reducer for action ${r.type}:`,t),n}},l=h(c()),p=new WeakMap;function y(){let n=(0,v.c)(2),r=A(l);p.has(r)||p.set(r,a(s=>{r(f=>u(f,s))}));let t;return n[0]===r?t=n[1]:(t=p.get(r),n[0]=r,n[1]=t),t}return{reducer:u,createActions:a,valueAtom:l,useActions:y}}export{E as t};
