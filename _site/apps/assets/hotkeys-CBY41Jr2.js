import{t as g}from"./Logger-BkkOJyg0.js";function c(){if(typeof window>"u")return g.warn("isPlatformMac() called without window"),!1;let e=window.navigator.userAgentData?window.navigator.userAgentData.platform:window.navigator.platform;return/mac/i.test(e)}function k(){if(typeof window>"u")return g.warn("isPlatformWindows() called without window"),!1;let e=window.navigator.userAgentData?window.navigator.userAgentData.platform:window.navigator.platform;return/win/i.test(e)}function y(e,o){let n=!0;for(let t of e){switch(t){case"mod":n&&(n=o.metaKey||o.ctrlKey);break;case"ctrl":n&&(n=o.ctrlKey);break;case"meta":n&&(n=o.metaKey);break;case"shift":n&&(n=o.shiftKey);break;case"alt":n&&(n=o.altKey);break;case"space":n&&(n=o.code==="Space");break;default:/^\d$/.test(t)&&o.shiftKey?n&&(n=o.code===`Digit${t}`):n&&(n=o.key.toLowerCase()===t);break}if(!n)return!1}return e.includes("shift")||n&&(n=!o.shiftKey),!e.includes("ctrl")&&!e.includes("mod")&&n&&(n=!o.ctrlKey),!e.includes("meta")&&!e.includes("mod")&&n&&(n=!o.metaKey),e.includes("alt")||n&&(n=!o.altKey),n}function f(e){return{control:"ctrl",command:"meta",cmd:"meta",option:"alt",return:"enter"}[e.toLowerCase()]||e.toLowerCase()}function h(e){if(e===i||e==="")return()=>!1;let o=e.includes("+")?"+":"-",n=e.split(o).map(f);return t=>y(n,t)}function u(){return c()?"mac":k()?"windows":"linux"}const r={EMPTY:Object.freeze({}),mapValues(e,o){return e&&r.fromEntries(r.entries(e).map(([n,t])=>[n,o(t,n)]))},fromEntries(e){return Object.fromEntries(e)},entries(e){return Object.entries(e)},keys(e){return Object.keys(e)},keyBy(e,o){let n={};for(let t of e){let l=o(t);l!==void 0&&(n[l]=t)}return n},collect(e,o,n){return r.mapValues(r.keyBy(e,o),n)},groupBy(e,o,n){let t={};for(let l of e){let a=o(l);if(a===void 0)continue;let m=n(l);a in t?t[a].push(m):t[a]=[m]}return t},filter(e,o){let n={};for(let[t,l]of r.entries(e))o(l,t)&&(n[t]=e[t]);return n},omit(e,o){let n=new Set(o);return r.filter(e,(t,l)=>!n.has(l))}},i=Symbol("NOT_SET");var d={"cell.focusUp":{name:"Go to previous cell",group:"Navigation",key:"Mod-Shift-k"},"cell.focusDown":{name:"Go to next cell",group:"Navigation",key:"Mod-Shift-j"},"cell.moveUp":{name:"Move cell up",group:"Creation and Ordering",key:"Mod-Shift-9"},"cell.moveDown":{name:"Move cell down",group:"Creation and Ordering",key:"Mod-Shift-0"},"cell.moveLeft":{name:"Move left",group:"Creation and Ordering",key:"Mod-Shift-7"},"cell.moveRight":{name:"Move right",group:"Creation and Ordering",key:"Mod-Shift-8"},"cell.createAbove":{name:"New cell above",group:"Creation and Ordering",key:"Mod-Shift-o"},"cell.createBelow":{name:"New cell below",group:"Creation and Ordering",key:"Mod-Shift-p"},"cell.sendToTop":{name:"Send to top",group:"Creation and Ordering",key:"Mod-Shift-1"},"cell.sendToBottom":{name:"Send to bottom",group:"Creation and Ordering",key:"Mod-Shift-2"},"cell.addColumnBreakpoint":{name:"Add column breakpoint",group:"Creation and Ordering",key:"Mod-Shift-3"},"cell.run":{name:"Run",group:"Running Cells",key:"Mod-Enter"},"cell.runAndNewBelow":{name:"Run and new below",group:"Running Cells",key:"Shift-Enter"},"cell.runAndNewAbove":{name:"Run and new above",group:"Running Cells",key:"Mod-Shift-Enter"},"global.runAll":{name:"Re-run all cells",group:"Running Cells",key:i},"cell.format":{name:"Format cell",group:"Editing",key:"Mod-b"},"cell.viewAsMarkdown":{name:"View as Markdown",group:"Editing",key:"Mod-Shift-m"},"cell.complete":{name:"Code completion",group:"Editing",key:"Ctrl-Space"},"cell.signatureHelp":{name:"Signature help",group:"Editing",key:"Mod-Shift-Space"},"cell.undo":{name:"Undo",group:"Editing",key:"Mod-z"},"cell.redo":{name:"Redo",group:"Editing",key:{main:"Mod-Shift-z",windows:"Mod-y"}},"cell.findAndReplace":{name:"Find and Replace",group:"Editing",key:"Mod-f"},"cell.selectNextOccurrence":{name:"Add selection to next Find match",group:"Editing",key:"Mod-d"},"cell.fold":{name:"Fold region",group:"Editing",key:{main:"Mod-Alt-[",windows:"Mod-Shift-["}},"cell.unfold":{name:"Unfold region",group:"Editing",key:{main:"Mod-Alt-]",windows:"Mod-Shift-]"}},"cell.foldAll":{name:"Fold all regions",group:"Editing",key:"Ctrl-Alt-["},"cell.unfoldAll":{name:"Unfold all regions",group:"Editing",key:"Ctrl-Alt-]"},"cell.delete":{name:"Delete cell",group:"Editing",key:"Shift-Backspace"},"cell.hideCode":{name:"Hide cell code",group:"Editing",key:"Mod-h"},"cell.aiCompletion":{name:"AI completion",group:"Editing",key:"Mod-Shift-e"},"cell.cellActions":{name:"Open cell actions",group:"Editing",key:"Mod-p"},"cell.splitCell":{name:"Split cell",group:"Editing",key:"Mod-Shift-'"},"cell.toggleComment":{name:"Toggle comment",group:"Editing",key:"Mod-/"},"cell.toggleBlockComment":{name:"Toggle block comment",group:"Editing",key:"Alt-A"},"cell.renameSymbol":{name:"Rename symbol",group:"Editing",key:"F2"},"markdown.bold":{name:"Bold",group:"Markdown",key:"Mod-b"},"markdown.italic":{name:"Italic",group:"Markdown",key:"Mod-i"},"markdown.link":{name:"Convert to Link",group:"Markdown",key:"Mod-k"},"markdown.orderedList":{name:"Convert to Ordered list",group:"Markdown",key:"Mod-Shift-7"},"markdown.unorderedList":{name:"Convert to Unordered list",group:"Markdown",key:"Mod-Shift-8"},"markdown.blockquote":{name:"Convert to Blockquote",group:"Markdown",key:"Mod-Shift-9"},"markdown.code":{name:"Convert to Code",group:"Markdown",key:"Mod-Shift-0"},"global.hideCode":{name:"Toggle app view",group:"Other",key:"Mod-."},"global.foldCode":{name:"Fold all cells",group:"Editing",key:{main:"Ctrl-Cmd-l",windows:"Mod-Shift-l"}},"global.unfoldCode":{name:"Unfold all cells",group:"Editing",key:{main:"Ctrl-Cmd-;",windows:"Mod-Shift-:"}},"global.showHelp":{name:"Show keyboard shortcuts",group:"Other",key:"Mod-Shift-h"},"global.save":{name:"Save file",group:"Other",key:"Mod-s"},"global.commandPalette":{name:"Show command palette",group:"Other",key:"Mod-k"},"global.runStale":{name:"Run all stale cells",group:"Running Cells",key:"Mod-Shift-r"},"global.interrupt":{name:"Stop (interrupt) execution",group:"Running Cells",key:"Mod-i"},"global.formatAll":{name:"Format all",group:"Editing",key:"Mod-Shift-b"},"global.toggleLanguage":{name:"Toggle language to markdown (if supported)",group:"Editing",key:"F4"},"global.toggleTerminal":{name:"Show integrated terminal",group:"Other",key:"Ctrl-`"},"global.collapseAllSections":{name:"Collapse all sections",group:"Editing",key:"Mod-Shift-\\"},"global.expandAllSections":{name:"Expand all sections",group:"Editing",key:"Mod-Shift-/"},"global.toggleMinimap":{name:"Toggle Minimap",group:"Other",key:"Mod-Shift-i"},"global.focusTop":{name:"Focus top",group:"Navigation",key:"Mod-Shift-f"},"global.focusBottom":{name:"Focus bottom",group:"Navigation",key:"Mod-Shift-g"},"global.toggleSidebar":{name:"Toggle helper panel",group:"Navigation",key:"Mod-Shift-s"},"cell.goToDefinition":{name:"Go to Definition",group:"Navigation",key:"F12"},"completion.moveDown":{name:"Move completion selection down",group:"Editing",key:"Ctrl-j"},"completion.moveUp":{name:"Move completion selection up",group:"Editing",key:"Ctrl-k"},"command.vimEnterCommandMode":{name:"Enter command mode (vim)",group:"Command",key:{main:"Mod-Escape",windows:"Shift-Escape"}},"command.createCellBefore":{name:"Create a cell before current cell",group:"Command",key:"a"},"command.createCellAfter":{name:"Create a cell after current cell",group:"Command",key:"b"},"command.copyCell":{name:"Copy cell",group:"Command",key:"c"},"command.pasteCell":{name:"Paste cell",group:"Command",key:"v"}};function w(e){return e in d}function M(e){return new s(d).getHotkey(e)}var s=class p{static create(o){return new p(d,{platform:o})}constructor(o,n={}){this.hotkeys=o,this.platform=n.platform??u(),this.mod=this.platform==="mac"?"Cmd":"Ctrl"}iterate(){return r.keys(this.hotkeys)}getHotkey(o){let{name:n,key:t}=this.hotkeys[o];if(typeof t=="string")return{name:n,key:t.replace("Mod",this.mod)};if(t===i)return{name:n,key:""};let l=t[this.platform]||t.main;return{name:n,key:l.replace("Mod",this.mod)}}getHotkeyDisplay(o){return this.hotkeys[o].name}isEditable(o){return this.hotkeys[o].editable!==!1}getHotkeyGroups(){return r.groupBy(r.entries(this.hotkeys),([,o])=>o.group,([o])=>o)}},C=class extends s{constructor(e,o={}){super(d,o),this.overrides=e}getHotkey(e){let o=super.getHotkey(e),n=this.overrides[e]||o.key;return{name:o.name,key:n}}};export{r as a,u as c,w as i,C as n,c as o,M as r,h as s,i as t};
