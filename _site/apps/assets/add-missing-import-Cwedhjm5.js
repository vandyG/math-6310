import{Jn as f,Lr as d,x as I}from"./cells-B4cnsYe_.js";import{r as p}from"./invariant-91cSKJcr.js";import{r as s}from"./key-BuxNhFKW.js";function u({moduleName:t,variableName:o,onAddImport:a,appStore:r=p}){let l=r.get(f);if(o in l)return!1;let{cellData:e,cellIds:n}=r.get(I),m=RegExp(`import[ 	]+${t}[ 	]+as[ 	]+${o}`,"g");for(let i of n.inOrderIds)if(m.test(e[i].code))return!1;let c=`import ${t} as ${o}`;return a(c),!0}function C({autoInstantiate:t,createNewCell:o,fromCellId:a,before:r}){let l=s(),e=null;return u({moduleName:"marimo",variableName:"mo",onAddImport:n=>{e=d.create(),o({cellId:a??"__end__",before:r??!1,code:n,lastCodeRun:t?n:void 0,newCellId:e,skipIfCodeExists:!0,autoFocus:!1}),t&&l.sendRun({cellIds:[e],codes:[n]})}})?e:null}function N({autoInstantiate:t,createNewCell:o,fromCellId:a}){let r=s(),l=null;return u({moduleName:"altair",variableName:"alt",onAddImport:e=>{l=d.create(),o({cellId:a??"__end__",before:!1,code:e,lastCodeRun:t?e:void 0,newCellId:l,skipIfCodeExists:!0,autoFocus:!1}),t&&r.sendRun({cellIds:[l],codes:[e]})}})?l:null}export{C as n,N as t};
