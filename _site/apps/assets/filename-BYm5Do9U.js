import{s as p}from"./chunk-DZLz74EQ.js";import{i as u,n as c,r as d}from"./react-7g8sREeT.js";import{Cr as i,Sn as h}from"./cells-B4cnsYe_.js";import{n as b}from"./jsx-runtime-DvsdsEjx.js";import{u as g}from"./utils-CfnN8i3Y.js";import{n as l}from"./constants-Cv7-oioA.js";import{d as k}from"./config-DiCy6eC0.js";import{a as v}from"./key-BuxNhFKW.js";import{s as P,t as _}from"./connection-Cb7zku0y.js";import{n as N}from"./useEvent-BIiDVnhT.js";import{n as x}from"./ImperativeModal-DujtmdOO.js";var y=p(b());function A(){return d(i)}function C(){let t=(0,y.c)(5),[n]=c(_),m=u(i),{openAlert:e}=x(),{sendRename:s}=v(),r;return t[0]!==n.state||t[1]!==e||t[2]!==s||t[3]!==m?(r=async o=>{let f=g();return n.state===P.OPEN?(k(a=>{o===null?a.delete(l.filePath):a.set(l.filePath,o)}),s({filename:o}).then(()=>(m(o),document.title=f.app_title||h.basename(o)||"Untitled Notebook",o)).catch(a=>(e(a.message),null))):(e("Failed to save notebook: not connected to a kernel."),null)},t[0]=n.state,t[1]=e,t[2]=s,t[3]=m,t[4]=r):r=t[4],N(r)}export{C as n,A as t};
