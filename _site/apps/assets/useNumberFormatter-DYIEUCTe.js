import{s as R}from"./chunk-DZLz74EQ.js";import{t as I}from"./react-BcIddLXZ.js";var a=R(I(),1),y={prefix:String(Math.round(Math.random()*1e10)),current:0},w=a.createContext(y),O=a.createContext(!1);typeof window<"u"&&window.document&&window.document.createElement;var f=new WeakMap;function T(t=!1){var n,u;let e=(0,a.useContext)(w),r=(0,a.useRef)(null);if(r.current===null&&!t){let o=(u=(n=a.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:n.ReactCurrentOwner)==null?void 0:u.current;if(o){let i=f.get(o);i==null?f.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==i.state&&(e.current=i.id,f.delete(o))}r.current=++e.current}return r.current}function _(t){let e=(0,a.useContext)(w),r=T(!!t),n=`react-aria${e.prefix}`;return t||`${n}-${r}`}function C(t){let e=a.useId(),[r]=(0,a.useState)(m()),n=r?"react-aria":`react-aria${y.prefix}`;return t||`${n}-${e}`}var M=typeof a.useId=="function"?C:_;function P(){return!1}function $(){return!0}function L(t){return()=>{}}function m(){return typeof a.useSyncExternalStore=="function"?a.useSyncExternalStore(L,P,$):(0,a.useContext)(O)}var N=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),j=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function b(t){if(Intl.Locale){let r=new Intl.Locale(t).maximize(),n=typeof r.getTextInfo=="function"?r.getTextInfo():r.textInfo;if(n)return n.direction==="rtl";if(r.script)return N.has(r.script)}let e=t.split("-")[0];return j.has(e)}var z=Symbol.for("react-aria.i18n.locale");function v(){let t=typeof window<"u"&&window[z]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:b(t)?"rtl":"ltr"}}var p=v(),s=new Set;function E(){p=v();for(let t of s)t(p)}function S(){let t=m(),[e,r]=(0,a.useState)(p);return(0,a.useEffect)(()=>(s.size===0&&window.addEventListener("languagechange",E),s.add(r),()=>{s.delete(r),s.size===0&&window.removeEventListener("languagechange",E)}),[]),t?{locale:"en-US",direction:"ltr"}:e}var d=a.createContext(null);function U(t){let{locale:e,children:r}=t,n=a.useMemo(()=>({locale:e,direction:b(e)?"rtl":"ltr"}),[e]);return a.createElement(d.Provider,{value:n},r)}function k(t){let{children:e}=t,r=S();return a.createElement(d.Provider,{value:r},e)}function A(t){let{locale:e,children:r}=t;return e?a.createElement(U,{locale:e,children:r}):a.createElement(k,{children:r})}function x(){let t=S();return(0,a.useContext)(d)||t}var h=new Map,g=!1;try{g=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}var c=!1;try{c=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}var D={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}},F=class{format(t){var r;let e="";if(e=!g&&this.options.signDisplay!=null?Z(this.numberFormatter,this.options.signDisplay,t):this.numberFormatter.format(t),this.options.style==="unit"&&!c){let{unit:n,unitDisplay:u="short",locale:o}=this.resolvedOptions();if(!n)return e;let i=(r=D[n])==null?void 0:r[u];e+=i[o]||i.default}return e}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,e){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,e);if(e<t)throw RangeError("End date must be >= start date");return`${this.format(t)} \u2013 ${this.format(e)}`}formatRangeToParts(t,e){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,e);if(e<t)throw RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(t),n=this.numberFormatter.formatToParts(e);return[...r.map(u=>({...u,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...n.map(u=>({...u,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!g&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!c&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,e={}){this.numberFormatter=W(t,e),this.options=e}};function W(t,e={}){var o;let{numberingSystem:r}=e;if(r&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${r}`),e.style==="unit"&&!c){let{unit:i,unitDisplay:l="short"}=e;if(!i)throw Error('unit option must be provided with style: "unit"');if(!((o=D[i])!=null&&o[l]))throw Error(`Unsupported unit ${i} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let n=t+(e?Object.entries(e).sort((i,l)=>i[0]<l[0]?-1:1).join():"");if(h.has(n))return h.get(n);let u=new Intl.NumberFormat(t,e);return h.set(n,u),u}function Z(t,e,r){if(e==="auto")return t.format(r);if(e==="never")return t.format(Math.abs(r));{let n=!1;if(e==="always"?n=r>0||Object.is(r,0):e==="exceptZero"&&(Object.is(r,-0)||Object.is(r,0)?r=Math.abs(r):n=r>0),n){let u=t.format(-r),o=t.format(r),i=u.replace(o,"").replace(/\u200e|\u061C/,"");return[...i].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),u.replace(o,"!!!").replace(i,"+").replace("!!!",o)}else return t.format(r)}}function q(t={}){let{locale:e}=x();return(0,a.useMemo)(()=>new F(e,t),[e,t])}export{m as a,A as i,F as n,M as o,x as r,q as t};
